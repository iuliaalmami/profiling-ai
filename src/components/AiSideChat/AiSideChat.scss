@use '../../styles/variables.scss' as vars;

.matches-right {
  height: 100%;
  display: flex;
  flex-direction: column;
  background: vars.$light-grey;
  border-left: 1px solid vars.$light-grey;
}

.ai-chat-container {
  display: flex;
  flex-direction: column;
  flex: 1;
  height: 100%;
  padding: 16px;
}

.ai-chat-header {
  flex-shrink: 0;
  margin-bottom: 16px;
}

.ai-chat-messages {
  flex: 1;
  overflow-y: auto;
  min-height: 0;
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-bottom: 12px;
}

.ai-input {
  flex-shrink: 0;

  .ant-input {
    padding: 10px;
    font-size: 13px;
  }

  .ant-input-suffix {
    color: vars.$grey-3;

    &:hover {
      color: vars.$blue;
    }
  }
}

aside {
  width: auto !important;
  max-width: inherit !important;
}

.ai-assistant-wrapper {
  display: flex;
  flex-direction: column;
  height: 100%;
  padding: 16px;
  font-family: vars.$font-primary;
  height: 100vh;



  .ai-middle {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    margin-bottom: 16px;
  }

  .ai-input {
    margin-top: auto;
    flex-shrink: 0;
    position: relative;
    bottom: 0;
    width: 100%;

    .ant-input {
      padding: 10px;
      font-size: 13px;
    }

    .ant-input-suffix {
      color: vars.$grey-3;

      &:hover {
        color: vars.$blue;
      }
    }
  }

  // Chat bubble styles for message differentiation
  .ai-chat-messages {
    flex: 1;
    overflow-y: auto;
    padding-bottom: 8px;
    
    // ai-top section now appears at the top of scrollable area
    .ai-top {
      margin-bottom: 20px;
      padding-bottom: 16px;
      border-bottom: 1px solid vars.$light-grey;
      
      h5 {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 16px;
      }
      
      .ai-assistant-info {
        display: flex;
        align-items: flex-start;
        gap: 12px;
        margin-bottom: 24px;

        .ai-icon {
          font-size: 24px;
          color: vars.$grey-3;
          margin-top: 4px;
        }

        p {
          margin: 0;
        }

        .ant-typography {
          margin: 0;
        }
      }
      
      .ai-suggestions {
        display: flex;
        flex-direction: column;
        gap: 12px;

        .ai-suggestion-tile {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          gap: 12px;
          background-color: vars.$light-grey-bg;
          border: none;
          font-weight: 500;
          text-align: left;
          padding: 14px;
          border-radius: 8px;
          line-height: 1.4;
          white-space: normal;
          word-break: break-word;
          width: 100%;
          height: 100%;
          .anticon {
            flex-shrink: 0;
            margin-top: 4px;
          }
        }
      }
    }

    .chat-bubble {
      display: flex;
      align-items: flex-start;
      gap: 8px;
      font-size: 13px;
      line-height: 20px;
      font-family: vars.$font-primary;
      margin-bottom: 12px;

      &.user {
        align-self: flex-end;
        flex-direction: row-reverse;

        .user-message-content {
          display: flex;
          align-items: flex-start;
          gap: 8px;
          flex-direction: row-reverse;

          .message-text {
            padding: 8px 12px;
            border-radius: 12px;
            background-color: vars.$light-blue;
            max-width: 300px;
            word-wrap: break-word;
          }
        }

        .chat-icon {
          color: vars.$dark-2;
          font-size: 16px;
          margin-top: 2px;
        }
      }

      &.assistant {
        align-self: flex-start;

        .assistant-message-content {
          display: flex;
          flex-direction: row;
          gap: 8px;
          align-items: flex-start;

          .message-text {
            background-color: vars.$light-grey-bg-2;
            padding: 8px 12px;
            border-radius: 12px;
            max-width: 300px;
            word-wrap: break-word;

            // Markdown content styles
            p {
              margin: 0;
              font-size: 13px;
              line-height: 20px;
            }

            ul,
            ol {
              margin: 4px 0;
              padding-left: 16px;
            }

            li {
              font-size: 13px;
              line-height: 18px;
            }
          }
        }

        .chat-icon {
          color: vars.$dark-2;
          font-size: 16px;
          margin-top: 2px;
          flex-shrink: 0;
        }

        &.loading {
          .message-text {
            color: vars.$grey-2;
            font-style: italic;

            .ant-spin {
              margin-right: 8px;
            }
          }
        }
      }
    }
  }
}

// Additional utility classes for inline style replacements
.ai-chat-summary {
  margin-bottom: 0;
}

.ai-chat-clickable {
  cursor: pointer;
}
